<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Guest Lower Third</title>
  <style>
    :root {
      --bg: transparent;
      --tc: #ffffff;
      --px: 32px;
      --py: 16px;
      --r: 20px;
      --fs: 48px;
      --fw: 700;
      --safeMaxWidthPct: 0.92;
      --font: "Nunito", Arial, sans-serif;
      --bottomMargin: 80px;
    }

    * { box-sizing: border-box; }

    html, body {
      width: 100%;
      height: 100%;
      margin: 0;
      padding: 0;
      background: transparent;
      overflow: hidden;
      font-family: var(--font);
    }

    #root {
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: flex-end;
      padding-bottom: var(--bottomMargin);
    }

    #pill {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      background: var(--bg);
      color: var(--tc);
      padding: var(--py) var(--px);
      border-radius: var(--r);
      max-width: calc(var(--safeMaxWidthPct) * 100vw);
      min-width: 0;
    }

    #text {
      font-size: var(--fs);
      font-weight: var(--fw);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .hidden {
      display: none !important;
    }
  </style>
</head>
<body>
  <div id="root">
    <div id="pill" class="hidden">
      <span id="text"></span>
    </div>
  </div>

  <script>
    const params = new URLSearchParams((location.hash || "").replace(/^#/, ""));
    const text = params.get("t") || "";
    const bg = params.get("bg");
    const tc = params.get("tc");
    const px = params.get("px");
    const py = params.get("py");
    const r = params.get("r");
    const fs = params.get("fs");
    const fw = params.get("fw");
    const mw = params.get("mw");
    const bm = params.get("bm");
    const ff = params.get("ff");

    const root = document.documentElement;
    if (bg) root.style.setProperty("--bg", bg);
    if (tc) root.style.setProperty("--tc", tc);
    if (px) root.style.setProperty("--px", `${Number(px)}px`);
    if (py) root.style.setProperty("--py", `${Number(py)}px`);
    if (r) root.style.setProperty("--r", `${Number(r)}px`);
    if (fs) root.style.setProperty("--fs", `${Number(fs)}px`);
    if (fw) root.style.setProperty("--fw", fw);
    if (mw) root.style.setProperty("--safeMaxWidthPct", mw);
    if (bm) root.style.setProperty("--bottomMargin", `${Number(bm)}px`);
    if (ff) root.style.setProperty("--font", ff);

    const pill = document.getElementById("pill");
    const textEl = document.getElementById("text");
    textEl.textContent = text;

    if (text.trim()) {
      pill.classList.remove("hidden");
    } else {
      pill.classList.add("hidden");
    }
  </script>
</body>
</html>
